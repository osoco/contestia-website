$(document).ready(function(){const $menu=$(".menu"),$navigations=$(".navigations"),$header=$(".header"),$mainMenuLinks=$(".main-menu a"),$animateElements=$(".animate-element"),$window=$(window),$body=$('body'),$document=$(document);function toggleMenu(){$menu.toggleClass("toggle");$navigations.toggleClass("toggle");$header.toggleClass("toggle");}$menu.click(toggleMenu);$mainMenuLinks.click(function(){$menu.removeClass("toggle");$navigations.removeClass("toggle");$header.removeClass("toggle");});function smoothScrollTo(target,addHash=!0){if($(target).length){$('html, body').stop().animate({'scrollTop':$(target).offset().top},500,'swing',function(){addHash&&(window.location.hash=target),$document.on("scroll",onScroll);});}}$('a[href^="#"]').on('click',function(e){e.preventDefault(),$document.off("scroll"),$mainMenuLinks.removeClass('active'),$(this).addClass('active'),smoothScrollTo(this.hash);});function checkInitialHash(){if(window.location.hash){const target=window.location.hash,$targetElement=$(target);$targetElement.length&&($document.off("scroll"),$mainMenuLinks.removeClass("active"),$mainMenuLinks.filter(`[href="${target}"]`).addClass("active"),smoothScrollTo(target,!1),setTimeout(()=>{$document.on("scroll",onScroll);},600));}}$('.js-open-lightbox').on('click',function(){const targetId=$(this).data('target'),$lightbox=$('#'+targetId);$lightbox.length&&($lightbox.addClass('open'),$body.addClass('openLB'))});$('.js-lightbox').on('click','.js-close-lightbox',function(){$(this).closest('.js-lightbox').removeClass('open'),$body.removeClass('openLB');});$('.js-lightbox').on('click',function(e){$(e.target).is('.js-lightbox')&&($(this).removeClass('open'),$body.removeClass('openLB'));});function isElementInViewport(el){const elementTop=$(el).offset().top,elementHeight=$(el).outerHeight(),elementBottom=elementTop+elementHeight,viewportTop=$window.scrollTop(),viewportBottom=viewportTop+$window.height(),threshold=.10*elementHeight;return elementBottom-threshold>viewportTop&&elementTop+threshold<viewportBottom;}function checkVisibility(){$animateElements.each(function(){const $this=$(this);isElementInViewport($this)?$this.removeClass('oculto').addClass('visible'):$this.removeClass('visible').addClass('oculto');});}$window.on('scroll resize',checkVisibility),checkVisibility();function onScroll(){const scrollPos=$window.scrollTop();$mainMenuLinks.each(function(){const $currLink=$(this),refElement=$($currLink.attr("href"));refElement.length&&refElement.position().top<=scrollPos&&refElement.position().top+refElement.height()>scrollPos&&($mainMenuLinks.removeClass("active"),$currLink.addClass("active"));});}checkInitialHash(),$document.on("scroll",onScroll);});